{"ast":null,"code":"import _classCallCheck from\"/home/jhon/Projetos/react-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jhon/Projetos/react-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/jhon/Projetos/react-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/jhon/Projetos/react-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jhon/Projetos/react-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{localeCurrency,inputsGenerator,paymentMethodInputs}from'../services/helpers';import*as S from'../CSS/S.OrderSummary';var OrderSummary=/*#__PURE__*/function(_React$Component){_inherits(OrderSummary,_React$Component);var _super=_createSuper(OrderSummary);function OrderSummary(props){var _this;_classCallCheck(this,OrderSummary);_this=_super.call(this,props);_this.state={submit:false};_this.productsReview=_this.productsReview.bind(_assertThisInitialized(_this));_this.totalPrice=_this.totalPrice.bind(_assertThisInitialized(_this));_this.submitPurchase=_this.submitPurchase.bind(_assertThisInitialized(_this));return _this;}_createClass(OrderSummary,[{key:\"submitPurchase\",value:function submitPurchase(){if(localStorage.getItem('shoppingCart')){localStorage.clear();this.setState({submit:true});}}},{key:\"productsReview\",value:function productsReview(){var order=JSON.parse(localStorage.getItem('shoppingCart'));return/*#__PURE__*/React.createElement(S.SectionProducts,null,/*#__PURE__*/React.createElement(S.H1,null,\"Revise seus Produtos\"),/*#__PURE__*/React.createElement(S.DivProducts,null,order.map(function(_ref){var title=_ref.title,thumbnail=_ref.thumbnail,quantity=_ref.quantity,id=_ref.id,price=_ref.price;return/*#__PURE__*/React.createElement(S.DivCard,{key:id},/*#__PURE__*/React.createElement(\"img\",{style:{height:\"auto\",\"max-height\":\"25vh\",\"width\":\"20%\",\"max-width\":\"20%\",\"border-radius\":\"10%\"},src:thumbnail,alt:\"foto \".concat(title)}),/*#__PURE__*/React.createElement(S.DivP,null,/*#__PURE__*/React.createElement(S.Ptitle,null,title),/*#__PURE__*/React.createElement(S.Pprice,null,localeCurrency(price*quantity))));})),/*#__PURE__*/React.createElement(S.Ptotal,null,\"Pre\\xE7o Total: \",this.totalPrice(),\".\"));}},{key:\"totalPrice\",value:function totalPrice(){var order=JSON.parse(localStorage.getItem('shoppingCart'));var total=order.reduce(function(acc,product){return acc+product.price*product.quantity;},0);return localeCurrency(total);}},{key:\"renderForm\",value:function renderForm(){return/*#__PURE__*/React.createElement(S.SectionPayment,null,/*#__PURE__*/React.createElement(S.Form,null,/*#__PURE__*/React.createElement(S.H3Form,null,\"Digite seus dados abaixo\"),inputsGenerator('text','name','Nome completo'),inputsGenerator('number','CPF','CPF'),inputsGenerator('text','email','E-mail'),inputsGenerator('number','telefone','Telefone'),inputsGenerator('number','CEP','CEP'),inputsGenerator('text','address','Endereço')),/*#__PURE__*/React.createElement(S.DivPayment,null,/*#__PURE__*/React.createElement(S.H5,null,\"Selecione o m\\xE9todo de pagamento\"),/*#__PURE__*/React.createElement(S.DivBankSlip,null,paymentMethodInputs('boleto')),/*#__PURE__*/React.createElement(S.H5,null,\"Cart\\xE3o de cr\\xE9dito (selecione a bandeira)\"),/*#__PURE__*/React.createElement(S.DivCreditCard,null,paymentMethodInputs('visa'),paymentMethodInputs('mastercard'),paymentMethodInputs('elo')),/*#__PURE__*/React.createElement(S.ButtonFinish,{type:\"button\",onClick:this.submitPurchase},\"Finalizar a Compra!\")));}},{key:\"render\",value:function render(){var submit=this.state.submit;var submitted=/*#__PURE__*/React.createElement(\"h1\",null,\"Obrigado por comprar conosco!\");return/*#__PURE__*/React.createElement(S.Main,null,!submit&&this.productsReview(),!submit&&this.renderForm(),submit&&submitted);}}]);return OrderSummary;}(React.Component);export default OrderSummary;","map":{"version":3,"sources":["/home/jhon/Projetos/react-online-store/src/Pages/OrderSummary.jsx"],"names":["React","localeCurrency","inputsGenerator","paymentMethodInputs","S","OrderSummary","props","state","submit","productsReview","bind","totalPrice","submitPurchase","localStorage","getItem","clear","setState","order","JSON","parse","map","title","thumbnail","quantity","id","price","height","total","reduce","acc","product","submitted","renderForm","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { localeCurrency, inputsGenerator, paymentMethodInputs } from '../services/helpers';\nimport * as S from '../CSS/S.OrderSummary';\n\nclass OrderSummary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submit: false,\n    };\n    this.productsReview = this.productsReview.bind(this);\n    this.totalPrice = this.totalPrice.bind(this);\n    this.submitPurchase = this.submitPurchase.bind(this);\n  }\n\n  submitPurchase() {\n    if (localStorage.getItem('shoppingCart')) {\n      localStorage.clear();\n      this.setState({\n        submit: true,\n      });\n    }\n  }\n\n  productsReview() {\n    const order = JSON.parse(localStorage.getItem('shoppingCart'));\n    return (\n      <S.SectionProducts>\n        <S.H1>Revise seus Produtos</S.H1>\n        <S.DivProducts>\n          {\n            order\n              .map(({ title, thumbnail, quantity, id, price }) => (\n              <S.DivCard key={ id }>\n                <img style={ { \n                    height: \"auto\", \"max-height\": \"25vh\",\n                    \"width\": \"20%\", \"max-width\": \"20%\",\n                    \"border-radius\": \"10%\",\n                  } } src={ thumbnail } alt={ `foto ${title}` } />\n                <S.DivP>\n                  <S.Ptitle>{ title }</S.Ptitle>\n                  <S.Pprice>{ localeCurrency(price * quantity) }</S.Pprice>\n                </S.DivP>\n              </S.DivCard>\n            ))\n          }\n        </S.DivProducts>\n        <S.Ptotal>Preço Total: { this.totalPrice() }.</S.Ptotal>\n      </S.SectionProducts>\n    );\n  }\n\n  totalPrice() {\n    const order  = JSON.parse(localStorage.getItem('shoppingCart'));\n    const total = order\n      .reduce((acc, product) => acc + (product.price * product.quantity), 0);\n    return localeCurrency(total);\n  }\n\n  renderForm() {\n    return (\n      <S.SectionPayment>\n        <S.Form>\n          <S.H3Form>Digite seus dados abaixo</S.H3Form>\n          { inputsGenerator('text', 'name', 'Nome completo') }\n          { inputsGenerator('number', 'CPF', 'CPF') }\n          { inputsGenerator('text', 'email', 'E-mail') }\n          { inputsGenerator('number', 'telefone', 'Telefone') }\n          { inputsGenerator('number', 'CEP', 'CEP') }\n          { inputsGenerator('text', 'address', 'Endereço') }\n        </S.Form>\n\n        <S.DivPayment>\n          <S.H5>Selecione o método de pagamento</S.H5>\n          <S.DivBankSlip>\n          { paymentMethodInputs('boleto') }\n          </S.DivBankSlip>\n\n          <S.H5>Cartão de crédito (selecione a bandeira)</S.H5>\n          <S.DivCreditCard>\n            { paymentMethodInputs('visa') }\n            { paymentMethodInputs('mastercard') }\n            { paymentMethodInputs('elo') }\n          </S.DivCreditCard>\n\n          <S.ButtonFinish\n            type=\"button\"\n            onClick={ this.submitPurchase }\n          >\n            Finalizar a Compra!\n          </S.ButtonFinish>\n        </S.DivPayment>\n      </S.SectionPayment>\n    );\n  }\n\n  render() {\n    const { submit } = this.state;\n    const submitted = <h1>Obrigado por comprar conosco!</h1>;\n    return (\n      <S.Main>\n        { !submit && this.productsReview() }\n        { !submit && this.renderForm() }\n        { submit && submitted }\n      </S.Main>\n    );\n  }\n}\n\nOrderSummary.propTypes = {\n  location: PropTypes.shape({\n    state: PropTypes.arrayOf(),\n  }).isRequired,\n};\n\nexport default OrderSummary;\n"]},"metadata":{},"sourceType":"module"}