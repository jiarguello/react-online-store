{"ast":null,"code":"var _jsxFileName = \"/home/jhon/Trybe/Projects/sd-09-project-frontend-online-store/src/components/ShoppingCart.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ShoppingCart extends React.Component {\n  constructor(props) {\n    super(props);\n    const {\n      location\n    } = this.props;\n    const {\n      state\n    } = location;\n    this.state = {\n      listOfProducts: [...state],\n      totalPrice: this.sumPrices\n    };\n    this.increaseProductQuantity = this.increaseProductQuantity.bind(this);\n    this.decreaseProductQuantity = this.decreaseProductQuantity.bind(this);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.renderEmptyCart = this.renderEmptyCart.bind(this);\n    this.sumPrices = this.sumPrices.bind(this);\n  }\n\n  increaseProductQuantity(id) {\n    const {\n      listOfProducts\n    } = this.state;\n    listOfProducts.find(product => product.id === id).quantity += 1;\n    this.setState({\n      listOfProducts: listOfProducts\n    });\n  }\n\n  decreaseProductQuantity(id) {\n    const {\n      listOfProducts\n    } = this.state;\n    const item = listOfProducts.find(product => product.id === id);\n\n    if (item.quantity !== 0) {\n      item.quantity -= 1;\n    }\n\n    this.setState({\n      listOfProducts: listOfProducts\n    });\n  }\n\n  deleteProduct(id) {\n    const {\n      listOfProducts\n    } = this.state;\n    const removeItem = listOfProducts.find(product => product.id === id);\n    const index = listOfProducts.indexOf(removeItem);\n    listOfProducts.splice(index, 1);\n    this.setState({\n      listOfProducts: listOfProducts\n    });\n  }\n\n  renderEmptyCart() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, \"Seu carrinho est\\xE1 vazio\"));\n  }\n\n  sumPrices() {\n    const {\n      listOfProducts,\n      totalPrice\n    } = this.state;\n    let total = 0;\n    listOfProducts.map(item => total += item.price);\n    this.setState({\n      totalPrice: total\n    });\n  } // COLOCAR O PRECO TOTAL E O PRECO POR ITEM...\n\n\n  render() {\n    const {\n      listOfProducts\n    } = this.state;\n    const emptyCart = this.renderEmptyCart();\n    if (listOfProducts.length === 0) return emptyCart;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, listOfProducts.map(({\n      title,\n      thumbnail,\n      quantity,\n      id,\n      price\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.deleteProduct(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbnail,\n      alt: `foto ${title}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, title), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-decrease-quantity\",\n      onClick: () => this.decreaseProductQuantity(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"shopping-cart-product-quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, quantity), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"product-increase-quantity\",\n      onClick: () => this.increaseProductQuantity(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, \"+\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, \"R$ \", price)))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }\n    }, \"O valor total da compra:\"), \" R$ \"));\n  }\n\n}\n\nShoppingCart.propTypes = {\n  location: PropTypes.shape({\n    state: PropTypes.arrayOf()\n  }).isRequired\n};\nexport default ShoppingCart;","map":{"version":3,"sources":["/home/jhon/Trybe/Projects/sd-09-project-frontend-online-store/src/components/ShoppingCart.jsx"],"names":["React","PropTypes","ShoppingCart","Component","constructor","props","location","state","listOfProducts","totalPrice","sumPrices","increaseProductQuantity","bind","decreaseProductQuantity","deleteProduct","renderEmptyCart","id","find","product","quantity","setState","item","removeItem","index","indexOf","splice","total","map","price","render","emptyCart","length","title","thumbnail","propTypes","shape","arrayOf","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ShoppingCart extends React.Component {\n  constructor(props) {\n    super(props);\n    const { location } = this.props;\n    const { state } = location;\n    this.state = {\n      listOfProducts: [...state],\n      totalPrice: this.sumPrices,\n    };\n    this.increaseProductQuantity = this.increaseProductQuantity.bind(this);\n    this.decreaseProductQuantity = this.decreaseProductQuantity.bind(this);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.renderEmptyCart = this.renderEmptyCart.bind(this);\n    this.sumPrices = this.sumPrices.bind(this);\n  }\n\n  increaseProductQuantity(id) {\n    const { listOfProducts } = this.state;\n    listOfProducts.find((product) => product.id === id).quantity += 1;\n    this.setState({\n      listOfProducts: listOfProducts,\n    });\n  }\n\n  decreaseProductQuantity(id) {\n    const { listOfProducts } = this.state;\n    const item = listOfProducts.find((product) => product.id === id);\n    if (item.quantity !== 0) {\n      item.quantity -=1;\n    }\n    this.setState({\n      listOfProducts: listOfProducts,\n    });\n  }\n\n  deleteProduct(id) {\n    const { listOfProducts } = this.state;\n    const removeItem = listOfProducts.find((product) => product.id === id);\n    const index = listOfProducts.indexOf(removeItem);\n    listOfProducts.splice(index, 1);\n\n    this.setState({\n      listOfProducts: listOfProducts,\n    })\n  }\n\n  renderEmptyCart() {\n    return (\n      <section>\n        <p data-testid=\"shopping-cart-empty-message\">\n          Seu carrinho está vazio\n        </p>\n      </section>\n    );\n  }\n\n  sumPrices() {\n    const { listOfProducts, totalPrice } = this.state;\n    let total = 0;\n    listOfProducts.map(item => total += item.price)\n    this.setState({\n      totalPrice: total,\n    })\n  }\n  // COLOCAR O PRECO TOTAL E O PRECO POR ITEM...\n\n  render() {\n    const { listOfProducts } = this.state;\n    const emptyCart = this.renderEmptyCart();\n    if (listOfProducts.length === 0) return emptyCart;\n    return (\n      <div>\n        {\n          listOfProducts.map(({ title, thumbnail, quantity, id, price }) => (\n            <div key={ id }>\n              <button\n                type=\"button\"\n                onClick={ () => this.deleteProduct(id) }\n              >\n                X\n              </button>\n              <img\n                src={ thumbnail }\n                alt={ `foto ${title}` }\n              />\n              <p data-testid=\"shopping-cart-product-name\">{ title }</p>\n              <div>\n                <button\n                  type=\"button\"\n                  data-testid=\"product-decrease-quantity\"\n                  onClick={ () => this.decreaseProductQuantity(id) }\n                >\n                  -\n                </button>\n                <p data-testid=\"shopping-cart-product-quantity\">{ quantity }</p>\n                <button\n                  type=\"button\"\n                  data-testid=\"product-increase-quantity\"\n                  onClick={ () => this.increaseProductQuantity(id) }\n                >\n                  +\n                </button>\n\n                <span>R$ { price }</span>\n              </div>\n            </div>\n          ))\n        }\n        <p><strong>O valor total da compra:</strong> R$ </p>\n      </div>\n    );\n  }\n}\n\nShoppingCart.propTypes = {\n  location: PropTypes.shape({\n    state: PropTypes.arrayOf(),\n  }).isRequired,\n};\n\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}