{"ast":null,"code":"var _jsxFileName = \"/home/jhon/Projetos/react-online-store/src/Pages/OrderSummary.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { localeCurrency, inputsGenerator, paymentMethodInputs } from '../services/helpers';\nimport * as S from '../CSS/S.OrderSummary';\n\nclass OrderSummary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submit: false\n    };\n    this.productsReview = this.productsReview.bind(this);\n    this.totalPrice = this.totalPrice.bind(this);\n    this.submitPurchase = this.submitPurchase.bind(this);\n  }\n\n  submitPurchase() {\n    if (localStorage.getItem('shoppingCart')) {\n      localStorage.clear();\n      this.setState({\n        submit: true\n      });\n    }\n  }\n\n  productsReview() {\n    const order = JSON.parse(localStorage.getItem('shoppingCart'));\n    return /*#__PURE__*/React.createElement(S.SectionProducts, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }\n    }, \"Revise seus Produtos\"), /*#__PURE__*/React.createElement(S.DivProducts, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, order.map(({\n      title,\n      thumbnail,\n      quantity,\n      id,\n      price\n    }) => /*#__PURE__*/React.createElement(S.DivCard, {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        height: \"auto\",\n        \"max-height\": \"30vh\",\n        \"width\": \"20%\",\n        \"max-width\": \"20%\",\n        \"border-radius\": \"10%\"\n      },\n      src: thumbnail,\n      alt: `foto ${title}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(S.DivP, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(S.Ptitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 19\n      }\n    }, title), /*#__PURE__*/React.createElement(S.Pprice, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 19\n      }\n    }, localeCurrency(price * quantity)))))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"Pre\\xE7o Total: \", this.totalPrice(), \".\"));\n  }\n\n  totalPrice() {\n    const order = JSON.parse(localStorage.getItem('shoppingCart'));\n    const total = order.reduce((acc, product) => acc + product.price * product.quantity, 0);\n    return localeCurrency(total);\n  }\n\n  renderForm() {\n    return /*#__PURE__*/React.createElement(S.SectionPayment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(S.Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"Digite seus dados abaixo\"), inputsGenerator('text', 'name', 'Nome completo'), inputsGenerator('number', 'CPF', 'CPF'), inputsGenerator('text', 'email', 'E-mail'), inputsGenerator('number', 'telefone', 'Telefone'), inputsGenerator('number', 'CEP', 'CEP'), inputsGenerator('text', 'address', 'Endereço')), /*#__PURE__*/React.createElement(S.DivPayment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, \"Boleto\"), paymentMethodInputs('boleto'), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"Cart\\xE3o de cr\\xE9dito (selecione a bandeira)\"), paymentMethodInputs('visa'), paymentMethodInputs('mastercard'), paymentMethodInputs('elo'), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.submitPurchase,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, \"Finalizar a Compra!\")));\n  }\n\n  render() {\n    const {\n      submit\n    } = this.state;\n    const submitted = /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, \"Obrigado por comprar conosco!\");\n    return /*#__PURE__*/React.createElement(S.Main, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, !submit && this.productsReview(), !submit && this.renderForm(), submit && submitted);\n  }\n\n}\n\nOrderSummary.propTypes = {\n  location: PropTypes.shape({\n    state: PropTypes.arrayOf()\n  }).isRequired\n};\nexport default OrderSummary;","map":{"version":3,"sources":["/home/jhon/Projetos/react-online-store/src/Pages/OrderSummary.jsx"],"names":["React","PropTypes","localeCurrency","inputsGenerator","paymentMethodInputs","S","OrderSummary","Component","constructor","props","state","submit","productsReview","bind","totalPrice","submitPurchase","localStorage","getItem","clear","setState","order","JSON","parse","map","title","thumbnail","quantity","id","price","height","total","reduce","acc","product","renderForm","render","submitted","propTypes","location","shape","arrayOf","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { localeCurrency, inputsGenerator, paymentMethodInputs } from '../services/helpers';\nimport * as S from '../CSS/S.OrderSummary';\n\nclass OrderSummary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      submit: false,\n    };\n    this.productsReview = this.productsReview.bind(this);\n    this.totalPrice = this.totalPrice.bind(this);\n    this.submitPurchase = this.submitPurchase.bind(this);\n  }\n\n  submitPurchase() {\n    if (localStorage.getItem('shoppingCart')) {\n      localStorage.clear();\n      this.setState({\n        submit: true,\n      });\n    }\n  }\n\n  productsReview() {\n    const order = JSON.parse(localStorage.getItem('shoppingCart'));\n    return (\n      <S.SectionProducts>\n        <h1>Revise seus Produtos</h1>\n        <S.DivProducts>\n          {\n            order\n              .map(({ title, thumbnail, quantity, id, price }) => (\n              <S.DivCard key={ id }>\n                <img style={ { \n                    height: \"auto\", \"max-height\": \"30vh\",\n                    \"width\": \"20%\", \"max-width\": \"20%\",\n                    \"border-radius\": \"10%\",\n                  } } src={ thumbnail } alt={ `foto ${title}` } />\n                <S.DivP>\n                  <S.Ptitle>{ title }</S.Ptitle>\n                  <S.Pprice>{ localeCurrency(price * quantity) }</S.Pprice>\n                </S.DivP>\n              </S.DivCard>\n            ))\n          }\n        </S.DivProducts>\n        <p>Preço Total: { this.totalPrice() }.</p>\n      </S.SectionProducts>\n    );\n  }\n\n  totalPrice() {\n    const order  = JSON.parse(localStorage.getItem('shoppingCart'));\n    const total = order\n      .reduce((acc, product) => acc + (product.price * product.quantity), 0);\n    return localeCurrency(total);\n  }\n\n  renderForm() {\n    return (\n      <S.SectionPayment>\n        <S.Form>\n          <h3>Digite seus dados abaixo</h3>\n          { inputsGenerator('text', 'name', 'Nome completo') }\n          { inputsGenerator('number', 'CPF', 'CPF') }\n          { inputsGenerator('text', 'email', 'E-mail') }\n          { inputsGenerator('number', 'telefone', 'Telefone') }\n          { inputsGenerator('number', 'CEP', 'CEP') }\n          { inputsGenerator('text', 'address', 'Endereço') }\n        </S.Form>\n\n        <S.DivPayment>\n          <h5>Boleto</h5>\n          { paymentMethodInputs('boleto') }\n\n          <h5>Cartão de crédito (selecione a bandeira)</h5>\n          { paymentMethodInputs('visa') }\n          { paymentMethodInputs('mastercard') }\n          { paymentMethodInputs('elo') }\n          <button\n            type=\"button\"\n            onClick={ this.submitPurchase }\n          >\n            Finalizar a Compra!\n          </button>\n        </S.DivPayment>\n      </S.SectionPayment>\n    );\n  }\n\n  render() {\n    const { submit } = this.state;\n    const submitted = <h1>Obrigado por comprar conosco!</h1>;\n    return (\n      <S.Main>\n        { !submit && this.productsReview() }\n        { !submit && this.renderForm() }\n        { submit && submitted }\n      </S.Main>\n    );\n  }\n}\n\nOrderSummary.propTypes = {\n  location: PropTypes.shape({\n    state: PropTypes.arrayOf(),\n  }).isRequired,\n};\n\nexport default OrderSummary;\n"]},"metadata":{},"sourceType":"module"}